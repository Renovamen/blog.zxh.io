import{f as y,r as S,o as a,a as m,b as t,t as w,i as h,j as D,k,d as p,w as x,l as H,g as B,m as $,n as T,F as M,p as V,h as L,q as C,s as P,v as R,x as I,_ as q}from"./app.684ddd2e.js";import{_ as z}from"./Pager.a5642907.js";const A={class:"post-item"},F=["src"],j={class:"else"},E={key:0,class:"post-item__date"},O={key:0},G=["innerHTML"],U=y({props:{item:{type:Object,required:!0}},setup(i){return(c,e)=>{const l=S("RouterLink");return a(),m("div",A,[t("div",{class:"post-item__img",onClick:e[0]||(e[0]=f=>c.$router.push(i.item.path))},[t("img",{src:c.$withBase(i.item.frontmatter.headerImage)},null,8,F)]),t("div",j,[i.item.frontmatter.date?(a(),m("p",E,w(h(D)(i.item.frontmatter.date)),1)):k("",!0),p(l,{to:i.item.path,class:"post-item__title"},{default:x(()=>[t("h2",null,w(i.item.frontmatter.title),1),i.item.frontmatter.subtitle?(a(),m("h3",O,w(i.item.frontmatter.subtitle),1)):k("",!0)]),_:1},8,["to"]),t("div",{class:"post-item__content",innerHTML:i.item.excerpt},null,8,G)])])}}}),J={class:"postlist-wrapper"},K=y({setup(i){const c=H(),e=B(),l=$(()=>{const n=decodeURI(c.currentRoute.value.path.replace(/\/page/g,"").replace(/\//g,""));return n===""?1:Number(n)}),{slicedPosts:f,pagerLink:v}=T(l),d=$(()=>{const n=v.value,o=n&&n.next?{text:e.value.homeNext,link:n.next}:null,u=n&&n.prev?{text:e.value.homePrev,link:n.prev}:null;return{next:o,prev:u}});return(n,o)=>(a(),m("div",J,[(a(!0),m(M,null,V(h(f),u=>(a(),L(U,{key:u.path,item:u},null,8,["item"]))),128)),h(d).next||h(d).prev?(a(),L(z,{key:0,data:h(d)},null,8,["data"])):k("",!0)]))}});const Q={class:"sns-wrapper"},W=["href"],X=y({props:{large:{type:Boolean,default:!0}},setup(i){var n;const c={github:{icon:"fa-github-alt",preLink:"https://github.com/"},linkedin:{icon:"fa-linkedin-in",preLink:"https://www.linkedin.com/in/"},facebook:{icon:"fa-facebook-f",preLink:"https://www.facebook.com/"},twitter:{icon:"fa-twitter",preLink:"https://www.twitter.com/"},zhihu:{icon:"ri-zhihu-line",preLink:"https://www.zhihu.com/people/"},weibo:{icon:"ri-weibo-fill",preLink:"http://weibo.com/u/"},email:{icon:"fa-envelope",preLink:"mailto:"},rss:{icon:"ri-rss-fill",preLink:"",iconScale:.9}},l=(n=B().value.personalInfo)==null?void 0:n.sns,f=(o,u)=>typeof o=="string"?c[u].preLink+o:o.link,v=(o,u)=>typeof o=="string"?c[u].icon:o.icon,d=(o,u)=>(typeof o=="string"?c[u].iconScale:o.iconScale)||1;return(o,u)=>{const g=S("VIcon");return a(),m("div",Q,[(a(!0),m(M,null,V(h(l),(_,r)=>(a(),m("a",{key:`${r}-${_}`,href:f(_,r),target:"_blank",rel:"noopener noreferrer"},[p(g,{class:"icon-stack"},{default:x(()=>[i.large?(a(),L(g,{key:0,name:"fa-circle",scale:"2.3",class:"icon-circle"})):k("",!0),p(g,{name:v(_,r),scale:d(_,r),class:"icon-sns",inverse:""},null,8,["name","scale"])]),_:2},1024)],8,W))),128))])}}}),Y={class:"home-blog"},Z=["src"],ee={key:0,class:"hero-bubble"},te=t("div",{class:"hero-bubble__body"},[t("p",{id:"hitokoto"},"\u6B63\u5728\u52A0\u8F7D\u4E00\u8A00...")],-1),oe=t("div",{class:"hero-bubble__tile"},null,-1),ne=[te,oe],se={class:"hero-info"},ae={class:"description"},ie=y({setup(i){const c=B(),e=c.value.homeHeaderImages,l=C(-1),f=C(1),v=()=>{window.scrollTo({top:document.querySelector(".hero").clientHeight,behavior:"smooth"})},d=c.value.hitokoto,n=()=>{let r=d;r=typeof r=="string"?r:"https://v1.hitokoto.cn",fetch(r).then(s=>s.json()).then(s=>{const b=document.querySelector("#hitokoto");b.innerHTML=s.hitokoto}).catch(s=>{console.log(`Get ${r} error: `,s)})};P(()=>{d&&n(),e&&e.length>0&&(l.value=Math.floor(Math.random()*e.length))});const o=r=>{if(!(e&&e.length>0))return;const s=e.length;l.value=(l.value+r+s)%s},u=$(()=>e&&e.length>0&&l.value!==-1?`url(${R(e[l.value].path)})`:"none"),g=$(()=>e&&e.length>0&&l.value!==-1?e[l.value].mask:null),_=c.value.personalInfo;return(r,s)=>{const b=S("VIcon");return a(),m("main",Y,[t("div",{class:"hero",style:I({"background-image":h(u)})},[h(g)?(a(),m("div",{key:0,class:"hero-mask",style:I({background:h(g)})},null,4)):k("",!0),t("div",{class:"hero-content",style:I({opacity:f.value})},[t("img",{class:"hero-avatar hide-on-mobile",src:r.$withBase(h(_).avatar),alt:"hero"},null,8,Z),h(d)?(a(),m("div",ee,ne)):k("",!0),t("div",se,[t("h1",null,w(h(_).name),1),t("p",ae,w(h(_).description),1)]),p(X,{class:"hide-on-mobile",large:""}),t("button",{class:"hero-img-prev hide-on-mobile",onClick:s[0]||(s[0]=N=>o(-1))},[p(b,{name:"fa-chevron-left"})]),t("button",{class:"hero-img-next hide-on-mobile",onClick:s[1]||(s[1]=N=>o(1))},[p(b,{name:"fa-chevron-right"})]),t("span",{class:"hero-arrow-down hide-on-mobile",onClick:s[2]||(s[2]=N=>v())},[p(b,{name:"fa-chevron-down",animation:"float"})])],4)],4),p(K)])}}}),le=y({setup(i){return(c,e)=>(a(),L(q,null,{page:x(()=>[p(ie)]),_:1}))}});export{le as default};
